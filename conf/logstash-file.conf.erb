# See http://logstash.net/docs/latest/ for documentation on how to configure Logstash.

input {

    file {
        path => "<%= ENV['OPENSHIFT_LOG_LOCATION'] %>"
        tags => ["<%= ENV['OPENSHIFT_APP_NAME'] %>", "<%= ENV['OPENSHIFT_GEAR_NAME'] %>", "<%= ENV['OPENSHIFT_NAMESPACE'] %>"]
    }

}

output {

    elasticsearch {
        codec => "json"
        host => "<%= ENV['OPENSHIFT_LOGSTASH_ES_HOST'] %>"
        idle_flush_time => 1
        protocol => "http"
        workers => 1
      }
}
